import{a as w,c as k,d as T,e as q,f as B,g as V,h as $}from"./chunk-NUDIFWYU.js";import{D as z,F as O,c as E,e as b,g as _,h as y,l as A,m as I,o as M,p as P,u as D,v as N,w as j,y as G,z as R}from"./chunk-KXF7RT7M.js";import{a as h}from"./chunk-PWV6WPBQ.js";import{$ as S}from"./chunk-464F2QMH.js";import{Ga as x,Na as s,S as C,Sa as g,V as v,Ya as p,bb as r,cb as t,db as l,jb as F,wa as m,wb as o,xa as u}from"./chunk-Q5JY254Z.js";var L=(()=>{class e{constructor(i){this.baseApiService=i}getPatientsOptions(i=""){return this.baseApiService.getApi("api/lm/patients",i,!1)}getPatients(i){return this.baseApiService.getApi("api/lm/patients/search",i)}addPatients(i){return this.baseApiService.postApi("api/lm/patients",i)}static{this.\u0275fac=function(a){return new(a||e)(v(h))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function K(e,f){e&1&&(r(0,"mat-error"),o(1," \u0636\u0631\u0648\u0631\u06CC \u0645\u06CC \u0628\u0627\u0634\u062F "),t())}function Q(e,f){e&1&&(r(0,"mat-error"),o(1," \u0636\u0631\u0648\u0631\u06CC \u0645\u06CC \u0628\u0627\u0634\u062F "),t())}function U(e,f){e&1&&(r(0,"mat-error"),o(1," \u0636\u0631\u0648\u0631\u06CC \u0645\u06CC \u0628\u0627\u0634\u062F "),t())}function W(e,f){e&1&&(r(0,"mat-error"),o(1," \u0636\u0631\u0648\u0631\u06CC \u0645\u06CC \u0628\u0627\u0634\u062F "),t())}var ne=(()=>{class e{constructor(i,a,n,c,d){this.formBuilder=i,this.dialogRef=a,this.notificationService=n,this.patientsService=c,this.dialog=d,this.submitted=!1}ngOnInit(){this.patientForm=this.formBuilder.group({name:["",[b.required]],last_name:["",[b.required]],mobile:[""],national_code:[""],tag:[""]})}get f(){return this.patientForm.controls}addPatient(){let{name:i,last_name:a,mobile:n}=this.patientForm.value;this.dialog.open($,{data:{title:"\u062B\u0628\u062A \u0628\u06CC\u0645\u0627\u0631",description:`\u0622\u06CC\u0627 \u0627\u0632 \u062B\u0628\u062A \u0628\u06CC\u0645\u0627\u0631 ${i} ${a} \u0627\u0637\u0645\u06CC\u0646\u0627\u0646 \u062F\u0627\u0631\u06CC\u062F\u061F`,isAlert:!1}}).afterClosed().subscribe(c=>{c&&(this.patientForm.patchValue({mobile:String(n)}),this.patientsService.addPatients(this.patientForm.value).subscribe({next:d=>{this.dialogRef.close(!0),this.notificationService.openSnackbar(d.message,"success")},error:d=>{this.notificationService.openSnackbar(d.error.message,"error")}}))})}static{this.\u0275fac=function(a){return new(a||e)(u(D),u(w),u(S),u(L),u(k))}}static{this.\u0275cmp=x({type:e,selectors:[["app-patient-form"]],decls:34,vars:6,consts:[["mat-dialog-title","",1,""],[1,"dialog-title","w-full","bg-primary","text-primary-foreground","px-6","py-2","z-100","font-semibold","flex","justify-between","item-center"],[2,"font-size","small"],[1,"fa-solid","fa-xmark","font-semibold","text-xl","cursor-pointer",3,"mat-dialog-close"],["mat-dialog-content","",1,"bg-background","text-foreground","px-6","py-4","grid","grid-cols-1","md:grid-cols-2","gap-6",2,"height","auto"],[3,"formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mt-2"],["appearance","outline",1,"inputs"],["matInput","","formControlName","name","type","text"],["matInput","","formControlName","last_name","type","text"],["matInput","","formControlName","national_code","type","number"],["matInput","","formControlName","mobile","type","number"],["mat-dialog-actions","",1,"flex","justify-end","p-0.5","bg-background","text-foreground","px-6","w-full","ltr:direction-ltr","rtl:direction-rtl"],[1,"w-full","md:w-[100px]","bg-primary","text-primary-foreground","flex-none","rounded-md","px-4","py-2.5","text-xs","font-semibold","mb-2","md:mb-0","md:mx-2","cursor-pointer","disabled:bg-muted","disabled:text-muted-foreground","disabled:cursor-not-allowed",3,"click","disabled"],[1,"w-full","md:w-[100px]","border","border-muted-foreground","text-muted-foreground","flex-none","rounded-md","px-4","py-2.5","text-xs","font-semibold","cursor-pointer",3,"mat-dialog-close"]],template:function(a,n){a&1&&(r(0,"div",0)(1,"div",1)(2,"div")(3,"span",2),o(4,"\u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0628\u06CC\u0645\u0627\u0631"),t()(),l(5,"i",3),t()(),r(6,"div",4)(7,"form",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),o(11,"\u0646\u0627\u0645"),t(),l(12,"input",8),s(13,K,2,0,"mat-error"),t(),r(14,"mat-form-field",7)(15,"mat-label"),o(16,"\u0646\u0627\u0645 \u062E\u0627\u0646\u0648\u0627\u062F\u06AF\u06CC"),t(),l(17,"input",9),s(18,Q,2,0,"mat-error"),t(),r(19,"mat-form-field",7)(20,"mat-label"),o(21,"\u06A9\u062F\u0645\u0644\u06CC"),t(),l(22,"input",10),s(23,U,2,0,"mat-error"),t(),r(24,"mat-form-field",7)(25,"mat-label"),o(26,"\u0645\u0648\u0628\u0627\u06CC\u0644"),t(),l(27,"input",11),s(28,W,2,0,"mat-error"),t()()()(),r(29,"div",12)(30,"button",13),F("click",function(){return n.addPatient()}),o(31," \u062B\u0628\u062A "),t(),r(32,"button",14),o(33," \u0627\u0646\u0635\u0631\u0627\u0641 "),t()()),a&2&&(m(7),g("formGroup",n.patientForm),m(6),p(n.patientForm.get("name").hasError("required")?13:-1),m(5),p(n.patientForm.get("last_name").hasError("required")?18:-1),m(5),p(n.patientForm.get("national_code").hasError("required")?23:-1),m(5),p(n.patientForm.get("mobile").hasError("required")?28:-1),m(2),g("disabled",n.patientForm.invalid))},dependencies:[N,A,E,I,_,y,V,B,q,j,M,P,T,R,z,O,G],encapsulation:2})}}return e})();export{L as a,ne as b};
